{"version":3,"sources":["webpack:///./src/components/Entities.js","webpack:///./src/components/MainCreative.js","webpack:///./src/pages/creative.js"],"names":["Entities","props","_this","_React$PureComponent","call","this","builtImageAssets","data","allFile","edges","map","node","index","arr","childImageSharp","fluid","rot","hPos","Math","floor","length","distanceBetween","state","pos","react_default","a","createElement","AReactImage","key","id","rotation","width","height","position","builtVideoAssets","fullLength","store","getState","getImages","video1Pos","video2Pos","Fragment","AReactVideo","src","spherical","radius","builtAframeAssets","color","imagesPerSide","numberOfSides","entities","componentDidMount","_this2","__webpack_require__","e","then","t","bind","aframe","setState","catch","error","console","render","React","PureComponent","MainCreative","loadedContent","aframeLoaded","components","registerComponent","init","_this3","el","addEventListener","document","querySelector","getAttribute","paused","play","pause","oops","cursor","embedded","style","Assets","components_Entities","Cameras","CreativePage","_React$Component","timeout","loading","setWrapperRef","assertThisInitialized_default","timeoutId","setTimeout","display","componentWillUnmount","clearTimeout","wrapperRef","Layout","location","className","SmallHeader","GyroController","components_MainCreative","Instructions","Footer","Component","fluidImage","pageQuery"],"mappings":"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","file":"component---src-pages-creative-js-be2200e5fe5d6a59b65d.js","sourcesContent":["import React from 'react'\nimport AReactImage from './AReactImage'\nimport AReactVideo from './AReactVideo'\nimport store from '../state/store';\n\nclass Entities extends React.PureComponent {\n  constructor(props){\n    super();\n    this.state={\n      distanceBetween:60,\n      imagesPerSide: 40,\n      numberOfSides: 4,\n      entities:null\n    }\n  }\n\n  builtImageAssets = () => {\n    const imageAssets =this.props.data.allFile.edges.map((node, index, arr) => {\n      if(node && node.node && node.node.childImageSharp && node.node.childImageSharp.fluid){\n        const fluid = node.node.childImageSharp.fluid;\n        // const itemZ = node.node.childImageSharp.fluid.src;\n        const rot =  index % 2 === 0 ? \"0 270 0\" : \"0 90 0\";\n        const hPos = Math.floor(arr.length/4) - Math.floor(index/2);\n        const distanceBetween = this.state.distanceBetween;\n        const pos =  index % 2 === 0 ?\n          `${distanceBetween} 2 ${distanceBetween * hPos}` :\n          `${-distanceBetween} 2 ${distanceBetween * hPos}`;\n        return <AReactImage key={node.node.id} fluid={fluid} rotation={rot} width={distanceBetween} height={distanceBetween} position={pos} />\n      }else{\n        return null;\n      }\n    })\n    return imageAssets;\n  }\n\n  builtVideoAssets = () => {\n    const fullLength = store().getState().getImages.length/3;\n    const video1Pos = `0 120 ${-fullLength * this.state.distanceBetween}`;\n    const video2Pos = `0 120 ${fullLength * this.state.distanceBetween}`;\n    return (\n      <>\n      <AReactVideo src=\"#mixVideo\" id=\"mix\" spherical={true} width={750} height={750} radius=\"750\" position={video1Pos} />\n      <AReactVideo src=\"#haightVideo\" id=\"haight\" rotation=\"0 180 0\" width={1200} height={680} position={video2Pos} />\n      </>\n    );\n  }\n\n  builtAframeAssets = () => {\n    // This is for putting all types of aframe assets. In this case, there is a\n    // plane that is used to click back and forth to full screen.\n    //  <a-plane material=\"opacity:0.31\" un-planned-texture position=\"0 -100 4\" rotation=\"-90 0 0\" width=\"5000\" height=\"5000\" color=\"#111\" />\n    return (\n      <>\n        <a-sky color=\"#fff\" src=\"#universe_4096Image\" />\n      </>\n    );\n  }\n\n  componentDidMount(){\n    import('aframe')\n      .then((aframe) => {\n        this.setState({\n          entities:(\n              <a-entity>\n                { this.builtImageAssets() }\n                { this.builtVideoAssets() }\n                { this.builtAframeAssets() }\n              </a-entity>\n          )})\n      })\n      .catch((error) => console.error(error));\n  }\n  render() {\n    return this.state.entities;\n  }\n}\n\nexport default Entities\n","import React from 'react'\n// import PropTypes from 'prop-types'\n// import aframe from 'aframe'\nimport Assets from './Assets'\nimport Cameras from './Cameras'\nimport Entities from './Entities'\n\nclass MainCreative extends React.PureComponent {\n  constructor(props){\n    super();\n    this.state={\n      loadedContent:null,\n      aframeLoaded: null,\n    }\n  }\n  componentDidMount(){\n    import('aframe')\n      .then((aframe) => {\n        if(!!!aframe.components['video-texture']){\n          aframe.registerComponent(\"video-texture\", {\n            init: function() {\n              this.el.addEventListener(\"click\", (e) => {\n                try{\n                  if(document.querySelector(this.el.getAttribute('src')).paused){\n                    document.querySelector(this.el.getAttribute('src')).play()\n                  }else{\n                    document.querySelector(this.el.getAttribute('src')).pause()\n                  }\n                }catch(oops){}\n              })\n            }\n          })\n        }\n        this.setState({\n          aframeLoaded: true,\n          loadedContent:(\n            <main>\n              <a-scene cursor=\"rayOrigin: mouse\" embedded style={{width:'100%',height:'100%'}}>\n                <Assets data={this.props.data} />\n                <Entities data={this.props.data} />\n                <Cameras data={this.props.data} />\n              </a-scene>\n            </main>\n          )})\n      })\n      .catch((error) => console.error(error));\n  }\n  render() {\n    return this.state.loadedContent;\n  }\n}\n\n// MainCreative.propTypes = {\n//   timeout: PropTypes.bool,\n//   setWrapperRef: PropTypes.func.isRequired,\n// }\n\nexport default MainCreative\n","import React from 'react'\nimport { graphql } from 'gatsby'\nimport Layout from '../components/Layout'\nimport GyroController from '../components/GyroController'\nimport SmallHeader from '../components/SmallHeader'\nimport MainCreative from '../components/MainCreative'\nimport Footer from '../components/Footer'\n\nclass CreativePage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      timeout: false,\n      loading: 'is-loading'\n    }\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n  }\n\n  componentDidMount () {\n    this.timeoutId = setTimeout(() => {\n      let s=document.querySelector('#instructions').style;\n      s.display='none';\n      this.setState({\n        loading: '',\n      });\n    }, 500);\n  }\n\n  componentWillUnmount () {\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId);\n    }\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  render() {\n    return (\n      <Layout location={this.props.location}>\n        <div className={`body ${this.state.loading}`}>\n          <div id=\"wrapper\" className=\"page\">\n            <SmallHeader timeout={this.state.timeout} />\n            <GyroController\n              timeout={this.state.timeout}\n              setWrapperRef={this.setWrapperRef}>\n              <MainCreative data={this.props.data}\n              timeout={this.state.timeout}\n              setWrapperRef={this.setWrapperRef} />\n              { Instructions() }\n            </GyroController>\n            <Footer timeout={this.state.timeout} />\n          </div>\n          <div id=\"bg\"></div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default CreativePage\n\nconst Instructions = () => {\n  return (\n    <div className=\"content\" id=\"instructions\">\n        <div className=\"inner\">\n          <h3>a device-only experience</h3>\n          <p className=\"singleSpace\">\n            from the center, tilt up or down\n         <br />\n           in one of the four directions\n          <br/>\n            selecting elements at the end\n           </p>\n      </div>\n    </div>\n  );\n}\n\nexport const fluidImage = graphql`\nfragment fluidImage on File {\n  childImageSharp {\n    fluid(maxWidth: 1024) {\n      ...GatsbyImageSharpFluid\n    }\n  }\n}\n`;\n\n\nexport const pageQuery = graphql`\nquery pageQuery{\n  allFile{\n    edges{\n      node{\n        id\n        ...fluidImage\n      }\n    }\n  }\n}\n`;\n"],"sourceRoot":""}